---
id: 0001
title: Update Constitution
stage: constitution
date: 2026-01-01
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: master
user: Claude
command: sp.constitution
labels: [constitution, todo-app, spec-driven]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
tests:
 - null
---

## Prompt

```text
# Todo Console App Constitution

## Project Identity
- **Name**: Todo Console App (Phase I)
- **Type**: Command-line Todo List Manager
- **Language**: Python 3.13+
- **Development Method**: Spec-Driven Development using Claude Code & Spec-Kit Plus

## Core Principles

### 1. Spec-Driven Development (Non-Negotiable)
- **NO manual coding** - All code must be generated by Claude Code
- Every feature must have a specification written first
- Iterate on specs until Claude Code generates correct output
- Maintain `/specs` folder with all specification history

### 2. Architecture Constraints
- **In-Memory Storage**: No database, no file persistence
- **Single Process**: All data lives in Python data structures (lists/dicts)
- **CLI Only**: No web server, no GUI
- **Stateless Sessions**: Data resets when program exits

### 3. Code Quality Standards
- **Python Style**: Follow PEP 8
- **Type Hints**: Use type annotations for all functions
- **Clean Code**: Descriptive variable names, short functions
- **Documentation**: Docstrings for all public functions
- **Error Handling**: Graceful handling of invalid inputs

### 4. Project Structure
```
phase-1-console-app/
‚îú‚îÄ‚îÄ .spec-kit/
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml
‚îú‚îÄ‚îÄ specs/
‚îÇ   ‚îú‚îÄ‚îÄ constitution.md (this file)
‚îÇ   ‚îú‚îÄ‚îÄ overview.md
‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ add-task.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ view-tasks.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ update-task.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delete-task.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mark-complete.md
‚îÇ   ‚îî‚îÄ‚îÄ architecture.md
‚îú‚îÄ‚îÄ CLAUDE.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ todo_manager.py
‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ uv.lock
```

### 5. Technology Stack (Fixed)
- **Package Manager**: UV
- **Python Version**: 3.13+
- **Dependencies**: Minimal (no external libraries for core functionality)
- **Development Tools**: Claude Code, Spec-Kit Plus

### 6. Data Model Principles
- **Task Structure**: Must include id, title, description, completed, created_at
- **ID Generation**: Sequential integers (1, 2, 3...)
- **Immutability**: Task IDs never change once assigned
- **Status**: Boolean completed flag (True/False)

### 7. User Interface Principles
- **Menu-Driven**: Clear numbered menu options
- **Input Validation**: Always validate user input before processing
- **Feedback**: Confirm every action with clear messages
- **Exit**: Always provide way to exit gracefully

### 8. Feature Completeness (Basic Level)
Must implement exactly these 5 features:
1. **Add Task** - Create new todo with title and description
2. **View Tasks** - Display all tasks with status indicators
3. **Update Task** - Modify title/description of existing task
4. **Delete Task** - Remove task by ID
5. **Mark Complete** - Toggle completion status

### 9. Forbidden Practices
- ‚ùå No manual code writing
- ‚ùå No database connections
- ‚ùå No file I/O for persistence
- ‚ùå No web frameworks
- ‚ùå No complex dependencies
- ‚ùå No intermediate/advanced features (those come in later phases)

### 10. Success Criteria
- All 5 basic features working correctly
- Clean, readable Python code
- Proper error handling
- Type hints throughout
- Comprehensive specs in `/specs` folder
- Working demo can be recorded in under 90 seconds
Specification Files
1. specs/overview.md
markdown# Phase I: Todo Console App - Overview

## Purpose
Build a simple command-line todo list application that stores tasks in memory during a single session.

## Current Phase
Phase I: In-Memory Python Console App

## Goals
- Master spec-driven development workflow
- Practice writing specifications for Claude Code
- Build foundation for future phases (web app, chatbot, cloud deployment)

## Tech Stack
- Python 3.13+
- UV package manager
- In-memory data structures (lists/dicts)

## Features (Basic Level Only)
1. ‚úÖ Add Task (title + description)
2. ‚úÖ View All Tasks (with status indicators)
3. ‚úÖ Update Task (modify title/description)
4. ‚úÖ Delete Task (by ID)
5. ‚úÖ Mark as Complete (toggle status)

## Constraints
- No persistence (data lost on exit)
- No external dependencies
- CLI interface only
- Single-user (no authentication)

## Success Metrics
- All 5 features working
- Code generated by Claude Code only
- Clean spec history maintained
- Demo video under 90 seconds
2. specs/architecture.md
markdown# Architecture Specification

## System Components

### 1. Data Layer (models.py)
```python
from dataclasses import dataclass
from datetime import datetime
from typing import Optional

@dataclass
class Task:
    id: int
    title: str
    description: str
    completed: bool
    created_at: datetime
```

### 2. Business Logic Layer (todo_manager.py)
```python
class TodoManager:
    """Manages in-memory task storage and operations"""

    def __init__(self):
        self.tasks: list[Task] = []
        self.next_id: int = 1

    def add_task(title: str, description: str) -> Task
    def get_all_tasks() -> list[Task]
    def get_task_by_id(task_id: int) -> Optional[Task]
    def update_task(task_id: int, title: str, description: str) -> bool
    def delete_task(task_id: int) -> bool
    def toggle_complete(task_id: int) -> bool
```

### 3. Presentation Layer (main.py)
```python
def display_menu() -> None
def get_user_choice() -> str
def handle_add_task() -> None
def handle_view_tasks() -> None
def handle_update_task() -> None
def handle_delete_task() -> None
def handle_mark_complete() -> None
def main() -> None
```

## Data Flow
```
User Input ‚Üí main.py ‚Üí todo_manager.py ‚Üí models.py (Task)
                ‚Üì
         Display Output
```

## Storage Strategy
- **Location**: TodoManager instance (in-memory list)
- **Lifetime**: Program execution only
- **ID Assignment**: Auto-increment starting from 1
- **Threading**: Not required (single-threaded CLI)
3. spe to add a new task with a title and description so I can track things I need to do.

## Acceptance Criteria

### AC1: Required Fields
- Title is required (cannot be empty)
- Title must be 1-200 characters
- Description is optional
- Description maximum 1000 characters if provided

### AC2: Task Creation
- System assigns unique sequential ID (1, 2, 3...)
- Task is marked as incomplete by default
- Created timestamp is set automatically
- Task is added to in-memory list

### AC3: User Feedback
- Show success message with assigned task ID
- Display the created task details
- Return to main menu

### AC4: Error Handling
- Empty title ‚Üí Show error, ask again
- Title too long ‚Üí Show error, ask again
- Cancel option available

## UI Flow
```
Main Menu
‚Üí User selects "1. Add Task"
‚Üí Prompt: "Enter task title: "
‚Üí User enters title
‚Üí Prompt: "Enter description (optional): "
‚Üí User enters description or presses Enter
‚Üí System creates task
‚Üí Display: "‚úì Task #5 created successfully!"
‚Üí Display taskay in order of creation (oldest first)
- Include: ID, title, status, created date
- Show count of total tasks

### AC2: Status Indicators
- Completed tasks: `[‚úì]` prefix
- Pending tasks: `[ ]` prefix
- Clear visual distinction

### AC3: Empty State
- If no tasks exist, show friendly message
- Suggest adding first task

### AC4: Formatting
- Align columns for readability
- Show description if not empty
- Date in readable format

## UI Layout
```
==================== YOUR TODO LIST ====================

Total Tasks: 3 | Completed: 1 | Pending: 2

[‚úì] #1 - Buy groceries
    Created: Jan 01, 2025 14:30
    Description: Milk, eggs, bread

[ ] #2 - Call dentist
    Created: Jan 01, 2025 14:35

[ ] #3 - Finish report
    Created: Jan 01, 2025 14:40
    Description: Q4 sales analysis due Friday

========================================================
```

## Empty State
```
==================== YOUR TODO LIST ====================

No tasks yet! Add your first task to get started.

========================================================
```

## Technical Requirements
```python
def display_all_tasks(self) -> None:
    """Display all tasks with formatting and status indicators"""
    tasks = self.todo_manager.get_all_tasks()

    if not tasks:
        # Show empty state
        return

    # Calculate stats
    total = len(tasks)
    completed = sum(1 for t in tasks if t.completed)
    pending = total - completed

    # Display header
    # Display each task
    # Show status icon
    # Format dates
    # Show descriptions
```
5. specs/features/update-task.md
markdown# Feature: Update Task

## User Story
As a user, I want to update a task's title or description so I can correct mistakes or add details.

## Acceptance Criteria

### AC1: Task Selection
- Prompt for task ID
- Validate ID exists
- Show current task details

### AC2: Update Options
- Option to update title
- Option to update description
- Option to update both
- Option to cancel

### AC3: Validation
- New title follows same rules as add (1-200 chars)
- New description max 1000 chars
- Cannot set title to empty

### AC4: Confirmation
- Show before/after comparison
- Confirm update was successful
- Display updated task

## UI Flow
```
Main Menu
‚Üí User selects "3. Update Task"
‚Üí Display all tasks (quick view)
‚Üí Prompt: "Enter task ID to update: "
‚Üí User enters ID
‚Üí Show current task details
‚Üí Prompt: "Update [T]itle, [D]escription, or [B]oth? "
‚Üí User makes selection
‚Üí Prompt for new values
‚Üí Show confirmation
‚Üí Return to menu
```

## Example Interaction
```
Enter task ID to update: 1

Current task:
ID: 1
Title: Buy groceries
Description: Milk, eggs

Update [T]itle, [D]escription, or [B]oth? (T/D/B): B

Enter new title (or press Enter to keep current): Buy groceries and fruits
Enter new description (or press Enter to keep current): Milk, eggs, bread, apples, bananas

‚úì Task #1 updated successfully!

BEFORE:
Title: Buy groceries
Description: Milk, eggs

AFTER:
Title: Buy groceries and fruits
Description: Milk, eggs, bread, apples, bananas

Press Enter to continue...
```

## Error Handling
```
Invalid task ID ‚Üí "Error: Task #99 not found"
Empty title ‚Üí "Error: Title cannot be empty"
Title too long ‚Üí "Error: Title must be under 200 characters"
```
6. specs/features/delete-task.md
markdown# Feature: Delete Task

## User Story
As a user, I want to delete tasks I no longer need so my list stays clean.

## Acceptance Criteria

### AC1: Task Selection
- Prompt for task ID
- Validate ID exists
- Show task details before deletion

### AC2: Confirmation
- Ask for confirmation before deleting
- Show task details in confirmation prompt
- Allow cancellation

### AC3: Deletion
- Remove task from list permanently
- Show success message
- Do not reassign IDs (gaps are OK)

### AC4: Error Handling
- Invalid ID ‚Üí clear error message
- Cancelled deletion ‚Üí confirmation message

## UI Flow
```
Main Menu
‚Üí User selects "4. Delete Task"
‚Üí Display all tasks (quick view)
‚Üí Prompt: "Enter task ID to delete: "
‚Üí User enters ID
‚Üí Show task details
‚Üí Prompt: "Are you sure? (yes/no): "
‚Üí If yes ‚Üí delete and confirm
‚Üí If no ‚Üí cancel and return
‚Üí Return to menu
```

## Example Interaction
```
Enter task ID to delete: 2

Task to delete:
ID: 2
Title: Call dentist
Description: Schedule checkup
Status: [ ] Pending

Are you sure you want to delete this task? (yes/no): yes

‚úì Task #2 deleted successfully!

Press Enter to continue...
```

## Cancellation Example
```
Are you sure you want to delete this task? (yes/no): no

Deletion cancelled. Task #2 preserved.

Press Enter to continue...
```

## Technical Requirements
```python
def delete_task(self, task_id: int) -> bool:
    """
    Delete a task by ID.

    Args:
        task_id: ID of task to delete

    Returns:
        bool: True if deleted, False if not found
    """
    # Find task
    # Remove from list
    # Return success/failure
```
7. specs/features/mark-complete.md
markdown# Feature: Mark Task Complete

## User Story
As a user, I want to mark tasks as complete or incomplete so I can track my progress.

## Acceptance Criteria

### AC1: Toggle Status
- Prompt for task ID
- Validate ID exists
- Toggle completed status (True ‚Üî False)

### AC2: Visual Feedback
- Show previous status
- Show new status
- Clear status indicators ([‚úì] vs [ ])

### AC3: Bidirectional
- Can mark incomplete task as complete
- Can mark complete task as incomplete
- No restriction on toggling multiple times

### AC4: Confirmation
- Show task details with new status
- Confirm action was successful

## UI Flow
```
Main Menu
‚Üí User selects "5. Mark Complete/Incomplete"
‚Üí Display all tasks (quick view)
‚Üí Prompt: "Enter task ID: "
‚Üí User enters ID
‚Üí System toggles status
‚Üí Show before/after status
‚Üí Return to menu
```

## Example Interactions

### Marking as Complete
```
Enter task ID to mark complete/incomplete: 1

Task #1 - Buy groceries

Status changed: [ ] Pending ‚Üí [‚úì] Completed

‚úì Task marked as completed!

Press Enter to continue...
```

### Marking as Incomplete
```
Enter task ID to mark complete/incomplete: 1

Task #1 - Buy groceries

Status changed: [‚úì] Completed ‚Üí [ ] Pending

‚úì Task marked as pending!

Press Enter to continue...
```

## Technical Requirements
```python
def toggle_complete(self, task_id: int) -> bool:
    """
    Toggle task completion status.

    Args:
        task_id: ID of task to toggle

    Returns:
        bool: True if toggled, False if not found
    """
    # Find task
    # Toggle completed flag
    # Return success/failure
```
CLAUDE.md
markdown# Todo Console App - Phase I

## Project Overview
This is Phase I of the "Evolution of Todo" hackathon project using **Spec-Driven Development**.

**CRITICAL RULE**: You (Claude Code) must NOT write code manually. You must read the specifications and generate code based on them.

## Spec-Kit Structure

All specifications are in `/specs`:
- `constitution.md` - Core principles and constraints
- `overview.md` - Project summary
- `architecture.md` - System design
- `features/*.md` - Individual feature specs

## Development Workflow

### 1. Read the Spec
Before implementing ANY feature, read:
```
@specs/constitution.md
@specs/features/[feature-name].md
@specs/architecture.md
```

### 2. Generate Code
Based on the spec, generate code that:
- Follows the architecture in `architecture.md`
- Meets acceptance criteria in feature specs
- Adheres to principles in `constitution.md`

### 3. Validate
Ensure generated code:
- Has type hints
- Includes docstrings
- Handles errors gracefully
- Follows PEP 8

## Project Structure
```
/src
  - main.py (CLI interface)
  - todo_manager.py (business logic)
  - models.py (data models)
```

## Commands to Execute
```bash
# Setup project
uv init phase-1-console-app
cd phase-1-console-app

# Run app
uv run python src/main.py
```

## Key Constraints
- ‚úÖ In-memory storage only (no files, no database)
- ‚úÖ Python 3.13+ with type hints
- ‚úÖ CLI interface only
- ‚úÖ 5 basic features only
- ‚ùå NO manual coding - use specs to generate

## Implementation Order
1. Create data model (`models.py`)
2. Create business logic (`todo_manager.py`)
3. Create CLI interface (`main.py`)
4. Test all 5 features

## Acceptance Criteria Summary
Every feature must:
- Have proper input validation
- Provide clear user feedback
- Handle errors gracefully
- Show confirmation messages
- Return to main menu after action

How to Use This with Claude Code
Step 1: Create Project Structure
bashmkdir phase-1-console-app
cd phase-1-console-app
mkdir -p specs/features src
```

### Step 2: Copy Specifications
Copy all the markdown content above into the appropriate files:
- `specs/constitution.md`
- `specs/overview.md`
- `specs/architecture.md`
- `specs/features/add-task.md`
- `specs/features/view-tasks.md`
- `specs/features/update-task.md`
- `specs/features/delete-task.md`
- `specs/features/mark-complete.md`
- `CLAUDE.md`

### Step 3: Start Claude Code

Give Claude Code this prompt:
```
Read @CLAUDE.md and @specs/constitution.md

Then implement Phase I console app by:
1. Reading @specs/architecture.md
2. Reading all feature specs in @specs/features/
3. Generating code for models.py, todo_manager.py, and main.py
4. Ensuring all 5 basic features work according to specs

Start by creating the project structure with UV package manager.
Step 4: Iterate on Specs
If Claude Code's output isn't perfect:

Don't manually fix the code
Update the spec to be more precise
Ask Claude Code to regenerate based on updated spec

This is the core of spec-driven development!
```
```

## Response snapshot

The project constitution has been successfully updated at `.specify/memory/constitution.md` with the following details:

**New Version**: 1.0.0 (initial version based on the Todo Console App specification)

**Changes Made**:
- Filled all placeholder tokens with concrete values from the user's Todo Console App Constitution
- Added 6 core principles: Spec-Driven Development, Architecture Constraints, Code Quality Standards, Technology Stack, Data Model Principles, and User Interface Principles
- Included sections on Feature Completeness and Forbidden Practices
- Added Development Workflow guidelines
- Established Governance rules

**Files Updated**:
- `.specify/memory/constitution.md` - Updated with complete constitution content

**Template Consistency**:
- Verified that dependent templates (plan-template.md, spec-template.md, tasks-template.md) remain consistent with the new constitution principles

**Suggested commit message**: `docs: add constitution for Todo Console App (Phase I)`

All the core principles from your Todo Console App specification have been incorporated into the project constitution, establishing a solid foundation for the spec-driven development approach you outlined.

## Outcome

- ‚úÖ Impact: Updated constitution file with all principles from user specification
- üß™ Tests: No tests required for this task
- üìÅ Files: .specify/memory/constitution.md updated successfully
- üîÅ Next prompts: Ready for next steps in project development
- üß† Reflection: Constitution template was properly filled with all required values from user input

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): N/A
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): N/A